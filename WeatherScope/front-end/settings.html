<!doctype html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings — WeatherScope</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="p-4">
  <header class="navbar bg-dark rounded-3 mb-4" data-bs-theme="dark">
    <a class="navbar-brand px-3 text-white" href="index.html">← Back to WeatherScope</a>
  </header>

  <div class="container" style="max-width: 720px;">
    <h2 class="mb-3">Налаштування</h2>
    <p class="text-muted">Тут можна змінювати мову та одиниці (°C / °F).</p>

    <form id="settings-form" class="card p-3">
      <div class="mb-3">
        <label class="form-label">Мова інтерфейсу</label>
        <select id="lang" class="form-select">
          <option value="uk">Українська</option>
          <option value="en">English</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Одиниці вимірювання температури</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="units" id="celsius" value="metric" checked>
          <label class="form-check-label" for="celsius">°C (metric)</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="units" id="fahrenheit" value="imperial">
          <label class="form-check-label" for="fahrenheit">°F (imperial)</label>
        </div>
      </div>

      <div class="d-flex gap-2">
        <button class="btn btn-primary" type="submit">Зберегти</button>
        <a class="btn btn-outline-secondary" href="index.html">Скасувати</a>
      </div>
    </form>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const savedLang   = localStorage.getItem('ws_lang')   || 'uk';
      const savedUnits  = localStorage.getItem('ws_units')  || 'metric';
      document.getElementById('lang').value = savedLang;
      document.getElementById(savedUnits === 'metric' ? 'celsius' : 'fahrenheit').checked = true;

      document.getElementById('settings-form').addEventListener('submit', (e) => {
        e.preventDefault();
        const lang  = document.getElementById('lang').value;
        const units = document.querySelector('input[name="units"]:checked').value;
        localStorage.setItem('ws_lang', lang);
        localStorage.setItem('ws_units', units);
        alert('Налаштування збережено');
        window.location.href = 'index.html';
      });
    });
  </script>
</body>
</html>
